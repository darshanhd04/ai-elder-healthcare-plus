{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { supabase } from \"../api/supabase\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function MedicineDetailScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var medicine = route.params.medicine;\n  function logStatus(_x) {\n    return _logStatus.apply(this, arguments);\n  }\n  function _logStatus() {\n    _logStatus = _asyncToGenerator(function* (status) {\n      var _yield$supabase$auth$ = yield supabase.auth.getUser(),\n        user = _yield$supabase$auth$.data.user;\n      if (!user) return;\n      yield supabase.from('medicine_logs').insert({\n        medicine_id: medicine.id,\n        user_id: user.id,\n        status: status\n      });\n      if (status === 'missed') {\n        yield supabase.from('alerts').insert({\n          user_id: user.id,\n          medicine_id: medicine.id,\n          medicine_name: medicine.name,\n          scheduled_time: new Date().toISOString()\n        });\n      }\n      alert(\"Marked as \" + status);\n      navigation.goBack();\n    });\n    return _logStatus.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: {\n      padding: 16\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 20\n      },\n      children: medicine.name\n    }), _jsxs(Text, {\n      children: [\"Dosage: \", medicine.dosage]\n    }), _jsxs(View, {\n      style: {\n        marginTop: 20\n      },\n      children: [_jsx(Button, {\n        title: \"\\u2705 Taken\",\n        onPress: function onPress() {\n          return logStatus('taken');\n        }\n      }), _jsx(View, {\n        style: {\n          height: 10\n        }\n      }), _jsx(Button, {\n        title: \"\\u274C Missed\",\n        onPress: function onPress() {\n          return logStatus('missed');\n        }\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","View","Text","Button","supabase","jsx","_jsx","jsxs","_jsxs","MedicineDetailScreen","_ref","route","navigation","medicine","params","logStatus","_x","_logStatus","apply","arguments","_asyncToGenerator","status","_yield$supabase$auth$","auth","getUser","user","data","from","insert","medicine_id","id","user_id","medicine_name","name","scheduled_time","Date","toISOString","alert","goBack","style","padding","children","fontSize","dosage","marginTop","title","onPress","height"],"sources":["C:/Users/DARSHAN/Downloads/ai-elder-healthcare-plus-complete/frontend/src/screens/MedicineDetailScreen.js"],"sourcesContent":["import React from 'react';\nimport { View, Text, Button } from 'react-native';\nimport { supabase } from '../api/supabase';\n\nexport default function MedicineDetailScreen({ route, navigation }) {\n  const { medicine } = route.params;\n\n  async function logStatus(status) {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n\n    await supabase.from('medicine_logs').insert({\n      medicine_id: medicine.id,\n      user_id: user.id,\n      status\n    });\n\n    if (status === 'missed') {\n      await supabase.from('alerts').insert({\n        user_id: user.id,\n        medicine_id: medicine.id,\n        medicine_name: medicine.name,\n        scheduled_time: new Date().toISOString()\n      });\n    }\n\n    alert(`Marked as ${status}`);\n    navigation.goBack();\n  }\n\n  return (\n    <View style={{ padding: 16 }}>\n      <Text style={{ fontSize: 20 }}>{medicine.name}</Text>\n      <Text>Dosage: {medicine.dosage}</Text>\n\n      <View style={{ marginTop: 20 }}>\n        <Button title=\"✅ Taken\" onPress={() => logStatus('taken')} />\n        <View style={{ height: 10 }} />\n        <Button title=\"❌ Missed\" onPress={() => logStatus('missed')} />\n      </View>\n    </View>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAE1B,SAASC,QAAQ;AAA0B,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE3C,eAAe,SAASC,oBAAoBA,CAAAC,IAAA,EAAwB;EAAA,IAArBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EAC9D,IAAQC,QAAQ,GAAKF,KAAK,CAACG,MAAM,CAAzBD,QAAQ;EAAkB,SAEnBE,SAASA,CAAAC,EAAA;IAAA,OAAAC,UAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,WAAA;IAAAA,UAAA,GAAAG,iBAAA,CAAxB,WAAyBC,MAAM,EAAE;MAC/B,IAAAC,qBAAA,SAAiClB,QAAQ,CAACmB,IAAI,CAACC,OAAO,CAAC,CAAC;QAAxCC,IAAI,GAAAH,qBAAA,CAAZI,IAAI,CAAID,IAAI;MACpB,IAAI,CAACA,IAAI,EAAE;MAEX,MAAMrB,QAAQ,CAACuB,IAAI,CAAC,eAAe,CAAC,CAACC,MAAM,CAAC;QAC1CC,WAAW,EAAEhB,QAAQ,CAACiB,EAAE;QACxBC,OAAO,EAAEN,IAAI,CAACK,EAAE;QAChBT,MAAM,EAANA;MACF,CAAC,CAAC;MAEF,IAAIA,MAAM,KAAK,QAAQ,EAAE;QACvB,MAAMjB,QAAQ,CAACuB,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC;UACnCG,OAAO,EAAEN,IAAI,CAACK,EAAE;UAChBD,WAAW,EAAEhB,QAAQ,CAACiB,EAAE;UACxBE,aAAa,EAAEnB,QAAQ,CAACoB,IAAI;UAC5BC,cAAc,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QACzC,CAAC,CAAC;MACJ;MAEAC,KAAK,gBAAchB,MAAQ,CAAC;MAC5BT,UAAU,CAAC0B,MAAM,CAAC,CAAC;IACrB,CAAC;IAAA,OAAArB,UAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAED,OACEX,KAAA,CAACP,IAAI;IAACsC,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,GAC3BnC,IAAA,CAACJ,IAAI;MAACqC,KAAK,EAAE;QAAEG,QAAQ,EAAE;MAAG,CAAE;MAAAD,QAAA,EAAE5B,QAAQ,CAACoB;IAAI,CAAO,CAAC,EACrDzB,KAAA,CAACN,IAAI;MAAAuC,QAAA,GAAC,UAAQ,EAAC5B,QAAQ,CAAC8B,MAAM;IAAA,CAAO,CAAC,EAEtCnC,KAAA,CAACP,IAAI;MAACsC,KAAK,EAAE;QAAEK,SAAS,EAAE;MAAG,CAAE;MAAAH,QAAA,GAC7BnC,IAAA,CAACH,MAAM;QAAC0C,KAAK,EAAC,cAAS;QAACC,OAAO,EAAE,SAATA,OAAOA,CAAA;UAAA,OAAQ/B,SAAS,CAAC,OAAO,CAAC;QAAA;MAAC,CAAE,CAAC,EAC7DT,IAAA,CAACL,IAAI;QAACsC,KAAK,EAAE;UAAEQ,MAAM,EAAE;QAAG;MAAE,CAAE,CAAC,EAC/BzC,IAAA,CAACH,MAAM;QAAC0C,KAAK,EAAC,eAAU;QAACC,OAAO,EAAE,SAATA,OAAOA,CAAA;UAAA,OAAQ/B,SAAS,CAAC,QAAQ,CAAC;QAAA;MAAC,CAAE,CAAC;IAAA,CAC3D,CAAC;EAAA,CACH,CAAC;AAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}