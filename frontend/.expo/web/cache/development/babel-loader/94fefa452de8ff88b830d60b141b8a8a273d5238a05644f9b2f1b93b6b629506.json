{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { supabase } from \"../api/supabase\";\nimport MedicineCard from \"../components/MedicineCard\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function DashboardScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    medicines = _useState2[0],\n    setMedicines = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    loadMedicines();\n  }, []);\n  function loadMedicines() {\n    return _loadMedicines.apply(this, arguments);\n  }\n  function _loadMedicines() {\n    _loadMedicines = _asyncToGenerator(function* () {\n      setLoading(true);\n      var _yield$supabase$auth$ = yield supabase.auth.getUser(),\n        user = _yield$supabase$auth$.data.user;\n      if (!user) return;\n      var _yield$supabase$from$ = yield supabase.from('medicines').select('*').eq('user_id', user.id).order('created_at', {\n          ascending: false\n        }),\n        data = _yield$supabase$from$.data,\n        error = _yield$supabase$from$.error;\n      if (!error) setMedicines(data || []);\n      setLoading(false);\n    });\n    return _loadMedicines.apply(this, arguments);\n  }\n  if (loading) {\n    return _jsx(Text, {\n      style: {\n        padding: 16\n      },\n      children: \"Loading medicines...\"\n    });\n  }\n  return _jsxs(View, {\n    style: {\n      padding: 16\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 20,\n        marginBottom: 10\n      },\n      children: \"Today's Medicines\"\n    }), medicines.length === 0 && _jsx(Text, {\n      children: \"No medicines added yet.\"\n    }), _jsx(FlatList, {\n      data: medicines,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(MedicineCard, {\n          medicine: item,\n          onPress: function onPress() {\n            return navigation.navigate('MedicineDetail', {\n              medicine: item\n            });\n          }\n        });\n      }\n    }), _jsx(Button, {\n      title: \"Add Medicine\",\n      onPress: function onPress() {\n        return navigation.navigate('AddMedicine');\n      }\n    }), _jsx(View, {\n      style: {\n        height: 8\n      }\n    }), _jsx(Button, {\n      title: \"Guardians\",\n      onPress: function onPress() {\n        return navigation.navigate('Guardians');\n      }\n    }), _jsx(View, {\n      style: {\n        height: 8\n      }\n    }), _jsx(Button, {\n      title: \"Profile\",\n      onPress: function onPress() {\n        return navigation.navigate('Profile');\n      }\n    })]\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","View","Text","Button","FlatList","supabase","MedicineCard","jsx","_jsx","jsxs","_jsxs","DashboardScreen","_ref","navigation","_useState","_useState2","_slicedToArray","medicines","setMedicines","_useState3","_useState4","loading","setLoading","loadMedicines","_loadMedicines","apply","arguments","_asyncToGenerator","_yield$supabase$auth$","auth","getUser","user","data","_yield$supabase$from$","from","select","eq","id","order","ascending","error","style","padding","children","fontSize","marginBottom","length","keyExtractor","item","renderItem","_ref2","medicine","onPress","navigate","title","height"],"sources":["C:/Users/DARSHAN/Downloads/ai-elder-healthcare-plus-complete/frontend/src/screens/DashboardScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, Button, FlatList } from 'react-native';\nimport { supabase } from '../api/supabase';\nimport MedicineCard from '../components/MedicineCard';\n\nexport default function DashboardScreen({ navigation }) {\n  const [medicines, setMedicines] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadMedicines();\n  }, []);\n\n  async function loadMedicines() {\n    setLoading(true);\n\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n\n    const { data, error } = await supabase\n      .from('medicines')\n      .select('*')\n      .eq('user_id', user.id)\n      .order('created_at', { ascending: false });\n\n    if (!error) setMedicines(data || []);\n    setLoading(false);\n  }\n\n  if (loading) {\n    return <Text style={{ padding: 16 }}>Loading medicines...</Text>;\n  }\n\n  return (\n    <View style={{ padding: 16 }}>\n      <Text style={{ fontSize: 20, marginBottom: 10 }}>\n        Today's Medicines\n      </Text>\n\n      {medicines.length === 0 && (\n        <Text>No medicines added yet.</Text>\n      )}\n\n      <FlatList\n        data={medicines}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => (\n          <MedicineCard\n            medicine={item}\n            onPress={() =>\n              navigation.navigate('MedicineDetail', { medicine: item })\n            }\n          />\n        )}\n      />\n\n      <Button title=\"Add Medicine\" onPress={() => navigation.navigate('AddMedicine')} />\n      <View style={{ height: 8 }} />\n      <Button title=\"Guardians\" onPress={() => navigation.navigate('Guardians')} />\n      <View style={{ height: 8 }} />\n      <Button title=\"Profile\" onPress={() => navigation.navigate('Profile')} />\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}